---
title: "Dann machen wir das gleich ordentlich!"
subtitle: "Versionskontrolle mit Git in der Lehre für Social Sciences"
author: "R. Dutschke, C. Scheffel, M. Schoemann, G. Thiele"

# bibliography: 

format:
  revealjs: 
    height: 1080
    width: 1920
    logo: ../resources/logos/TUD_Bildmarke_RGB_blau.svg
    footer: "SaxFDM 21.11.2025 | R. Dutschke, C. Scheffel, M. Schoemann, G. Thiele"
    slide-number: true
    show-slide-number: all
    slide-level: 2
    theme: [default, ../resources/style/tud.scss]
    toc: false
    toc-depth: 1
    toc-title: Outline
    preview-links: false
    self-contained: true
    mainfont: "Noto Sans"
---

```{r Setup}
#| echo: false

library(nomnoml)
```


<!-- # {{< bi eye >}} Kennenlernen -->
<!-- # {{< bi emoji-heart-eyes >}} Kennenlernen -->
<!-- # {{< bi emoji-activity >}} Kennenlernen -->
# {{< bi person-hearts >}} Kennenlernen

# {{< bi aspect-ratio-fill >}} Motivation


## Warum Git? (mache ich noch; MS)

- Änderungen nachvollziehen  
- Zu früheren Versionen zurückspringen  
- Zusammenarbeit erleichtern  
- Vermeidung von Dateien wie:  
  `projekt_final.docx`, `projekt_final_final.docx`, `wirklich_final.docx`

# Versionkontrolle mit git

## Git

- Lokales Versionskontrollsystem ("git Repositorium")
- Verfolgt Änderungen an Dateien innerhalb eines Ordners/Projekts
- Zentrales Element ist der **Commit**

```{nomnoml}
#direction: right
#font: Noto Sans
[Commit 1| 
   [<note> A] -/- [<label> Datei 1] | 
   [<note> A] -/- [<label> Datei 2] | 
   [<note> A] -/- [<label> Datei 3]
 ]

[Commit 2| 
   [<note> 0] -/- [<label> Datei 1] | 
   [<note> 0] -/- [<label> Datei 2] | 
   [<note> M] -/- [<label> Datei 3]
 ]

[Commit 3| 
   [<note> M] -/- [<label> Datei 1] | 
   [<note> 0] -/- [<label> Datei 2] | 
   [<note> D] -/- [<label> Datei 3]
 ]

[Commit 1] -> [Commit 2] -> [Commit 3]

```

::: aside
A = Datei hinzugefügt ("added"), 0 = keine Änderung, M = Datei geändert ("modified"), D = Datei gelöscht ("deleted")
:::



## Remotes

- Repositorien können miteinander verknüpft werden
- typischer Fall: lokales Repositorium wird mit einem "Remote" hintersichert
- verknüpfte Repositorien können abgeglichen werden

```{nomnoml}
#direction: down
#font: Noto sans
[local git] -> push [remote git]
[remote git] -> pull [local git]

```

![](../resources/figures/spidermanremotes.jpg)

## GitHub & GitLab 

- Plattform zur Speicherung von Git-Repositories  
- Online-Zusammenarbeit (Issues, Pull Requests, Wiki, Projects)  
- Backup & Veröffentlichung von Code und Daten

```{nomnoml}
#direction: down
#font: Noto

[local git] <-> [remote git]
# [remote git] -> pull [local git]

[remote git] <-> [another local git]
# [another local git] -> push [remote git]

[remote git] <-> [yet another local git]
# [yet another local git] -> push [remote git]

```


**Wichtig**:  
Jedes Repositorium ist alleinstehend.
Der Abgleich mit dem Remote (oder anderen Repositorien) erfolgt immer nur manuell mit **push** oder **pull**.

## Wichtige git Befehle (Teil 1)

- **clone**: ein Remote-Repositorium kopieren und als lokales Repositorium einrichten
- **stage**: Änderungen in Dateien für einen Commit vorbereiten (synonym: **add**)
- **commit**: Änderungen im Repositorium festhalten
- **status**: zeigt alle Dateien mit Änderungen seit dem letzten Commit
- **checkout**: den aktuellen Branch wechseln *oder* den Zustand des Repositoriums oder einer Datei auf einen früheren Commit zurücksetzen

![](../resources/figures/cheapcommits.jpg)

## Wichtige git Befehle (Teil 2)

- **push**: den Stand des lokalen Repositoriums zum verknüpften Remote-Repositorium übertragen
- **pull**: den Stand des Remote-Repositoriums zum lokalen Repositorium übertragen

Graphical User Interfaces unterstützen beim Arbeiten mit git.
Unser Vorschlag: [**gittyup**](https://murmele.github.io/Gittyup/)

![](../resources/figures/gittyup_screenshot.png){fig-align="center"}

## {{< bi code-square >}} Praktische Arbeit

### Grundlagen ausprobieren

- Klonen Sie das Git-Repositorium für diesen Workshop in einen lokalen Ordner Ihrer Wahl [https://github.com/mschoemann/tud-psy-rcourse.git](https://github.com/mschoemann/tud-psy-rcourse.git).  
Wechseln Sie über gittyup in den Branch *Workshop*.
- Erstellen Sie eine Textdatei ^[ideal sind non-binary Dateien wie z.B. `.txt` oder `.md`, da git die Änderungen in diesen direkt und zeilenweise anzeigen kann. Es funktioniert aber grundsätzlich jedes Dateiformat] mit beliebigem Namen im Unterordner `./WS_Folder/`
- Schreiben Sie etwas in die Textdatei und erstellen Sie einen Commit mit einer aussagekräftigen Commit-Nachricht ^[Hierfür gibt es Style-Tips, z.B. [https://cbea.ms/git-commit/](https://cbea.ms/git-commit/)]
- Nehmen Sie Änderungen in der Datei vor und/oder erstellen Sie zusätzliche Dateien.  
Überprüfen Sie in gittyup, wie diese Änderungen erfasst werden. Erstellen Sie einen neuen Commit, der wahlweise auch nur Teile der Änderungen beinhalten kann.
- Holen Sie eine alte version einer Ihrer Dateien ins aktuelle Arbeitsverzeichnis

{{< countdown "20:00" >}}

## Branching

::::: {layout="[ 90, 10 ]"}
::: {#Text}
**Main:** Der Hauptzweig eines Repositoriums

-   teilw. auch master genannt
-   hier liegt die stabile Version des Codes oder der Dateien

**Nebenzweige**

-   Zweig, der von einem bestimmten Punkt von main (oder einem anderen Branch) abgeht
-   Änderungen sind exklusiv innerhalb des Zweigs
-   wird genutzt, um neue Funktionen oder Teile eines Projekts zu erarbeiten, ohne main zu beeinflussen
-   für verschiedene Branches können auf manchen Plattformen Regeln eingeführt werden (z.B. [protection rules in GitHub](https://docs.github.com/de/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/managing-a-branch-protection-rule))
:::

::: {#Bild}
![](../resources/figures/branching.png)
:::
:::::

## Abzweigen & Zusammenführen

-   (Neuer) **Branch:** Einen neuen Branch erstellen
-   **Checkout:** Wechsel zu 
    - einem anderen Branch
    - einem anderen Commit
    - einer Datei in einem bestimmten Commit

## Abzweigen & Zusammenführen

-   (Neuer) **Branch:** Einen neuen Branch erstellen
-   **Checkout:** Wechsel zu 
    - einem anderen Branch
    - einem anderen Commit
    - einer Datei in einem bestimmten Commit
-   **Merge:** Branches zusammenführen
    -   Alle Änderungen beider Branches werden zusammengeführt (d.h. der aktuellste Stand der beiden Branches)
    -   Merging ist **nicht destruktiv**: beide Branches existieren weiterhin

![](../resources/figures/branch_merge.png){fig-align="center"}

## Abzweigen & Zusammenführen

-   **Rebase:** die Commits eines Branchs werden nach dem letzten Commit eines anderen Zweigs angewandt
    -   Rebasing ist destruktiv: der angefügte Branch existiert danach nicht mehr

![](../resources/figures/rebase_flow.png){fig-align="center"}

## Abzweigen & Zusammenführen

-   **Rebase:** die Commits eines Branchs werden nach dem letzten Commit eines anderen Zweigs angewandt
    -   Rebasing ist destruktiv: der angefügte Branch existiert danach nicht mehr

![](../resources/figures/rebase.png){fig-align="center"}

## Abzweigen & Zusammenführen

-   **Rebase:** die Commits eines Branchs werden nach dem letzten Commit eines anderen Zweigs angewandt
    -   Rebasing ist destruktiv: der angefügte Branch existiert danach nicht mehr
    -   Faustregel: Public Branches nicht (unmittelbar) rebasen!
-   **Squash:** Mehrere Commits werden in einen Commit komprimiert und dann auf einen anderen Branch rebased

Mehr über [Branches](https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell), [Merging vs. Rebasing](https://www.atlassian.com/git/tutorials/merging-vs-rebasing) und [Squashing]()

## Merge-Konflikte

-   die Inhalte einer oder mehrerer Datei(en) unterscheiden sich zwischen zwei Branches, die gemerged werden sollen

## Merge-Konflikte

![](../resources/figures/BeispielDiff.png){fig-align="center"}

## Merge-Konflikte

![](../resources/figures/bothIncludedCropped.png){fig-align="center"}

## Merge-Konflikte

![](../resources/figures/GittyupDifftool.png){fig-align="center"}

## Merge-Konflikte

-   die Inhalte einer oder mehrerer Datei(en) unterscheiden sich zwischen zwei Branches, die gemerged werden sollen
    -   Beide Versionen können übernommen werden (messy)
    -   Konflikte können (zeilenweise) mit einem Difftool (Mergetool) gelöst werden
-   **Difftool:** Befehl in der Kommandozeile & Programm zum Anzeigen und bearbeiten von Unterschieden in Dateien
-   Konflikte können auch bei **Pulls** auftreten und ebenfalls mit einem Difftool gelöst werden

Weiterlesen: 

- [Guide zum Lösen von Merge-Konflikten](https://www.atlassian.com/git/tutorials/using-branches/merge-conflicts) 
- [Guide zu Difftools](https://graphite.com/guides/comprehensive-guide-to-diff-tools) 
- [Dokumentation zum Difftool-Befehl](https://git-scm.com/docs/git-difftool)

## Cherrypicking

-   **gezieltes Auswählen einzelner Commits** aus einem Branch, um sie im gleichen oder
-   Kopie des Commits wird in den anderen Branch gemerged (**non-destruktiv**)
-   Wichtig: Commits müssen gut strukturiert sein

![](../resources/figures/cherrypick.png){fig-align="center"}

## Forking

- **Fork:** Kopieren eines fremden Repositoriums 
    - Erstellt eine eigene unabhängige Version 
    - Änderungen können per **Pull Request** an das Original-Repositorium zurückgegeben werden
- **Nutzung:**
    - Zu anderen Projekten beitragen, in denen man keine Schreibrechte hat
    - Ausgehend vom Original eine eigene Version des Projekts erstellen
- Mehr zu Forks auf [GitHub](https://docs.github.com/de/pull-requests/collaborating-with-pull-requests/working-with-forks/fork-a-repo) und [Atlassian](https://www.atlassian.com/git/tutorials/comparing-workflows/forking-workflow)

![](../resources/figures/fork.png){fig-align="center"}

## {{< bi code-square >}} Praktische Arbeit
### Fortgeschrittenes ausprobieren

-   Erstellen Sie einen neuen Branch in ihrem Repositorium
-   Ändern oder erstellen Sie eine Datei im Branch und committen sie die Veränderung im Branch 
-   Versuchen sie dann den Branch mit dem Workshop-Branch (oder einem anderen) zu mergen
-   Provozieren sie einen Merge-Konflikt in zwei Branches (z.B. verschiedene Versionen der gleichen Zeile einer Datei) und lösen Sie den Konflikt in GittyUp
-   Bonus: Erstellen Sie sich einen weiteren zusätzlichen Branch und probieren Sie mit den beiden von Ihnen erstellten Branches Rebasing, Squashing und Cherrypicking aus

{{< countdown "10:00" >}}

## Weitere Materialien

-   [Visuelles Tutorial für Git in der Kommandozeile](https://agripongit.vincenttunru.com/)
-   [Teaching Git von Thomas Broyer](https://blog.ltgt.net/teaching-git/)
-   [Lehre mit Git von der Universität Zürich](https://teachingtools.uzh.ch/de/tools/teaching-with-git)
-   [Git-Onlinedokumentation](https://git-scm.com/book/en/v2/Getting-Started-What-is-Git%3F)

<!-- ## Vorteile von Git & GitHub -->

<!-- - Transparenz über die gesamte Projektentwicklung   -->
<!-- - Jede Änderung bleibt nachvollziehbar   -->
<!-- - Wissenschaftliche Reproduzierbarkeit   -->
<!-- - Einfachere Zusammenarbeit im Team   -->
<!-- - Zentrale Speicherung und Backup   -->

<!-- --- -->

<!-- ## Herausforderungen -->

<!-- - Neue Begriffe und Abläufe   -->
<!-- - Anfangs ungewohnt   -->
<!-- - Unterschiedliches Verhalten von Git-Tools auf verschiedenen Betriebssystemen   -->
<!-- - Mit guter Software (GitHub Desktop, VS Code) wird der Einstieg deutlich leichter -->

<!-- --- -->

<!-- ## Beispielworkflow für Quarto / RMarkdown -->

<!-- 1. Repository erzeugen oder klonen   -->
<!-- 2. Quarto- oder RMarkdown-Datei bearbeiten   -->
<!-- 3. Änderungen speichern und in sinnvollen Einheiten committen   -->
<!-- 4. Regelmäßig Änderungen aus GitHub abrufen   -->
<!-- 5. Eigene Änderungen hochladen   -->
<!-- 6. Bei paralleler Arbeit Branches nutzen   -->
<!-- 7. Mergen oder Pull Request erstellen   -->

---
# {{< bi suitcase-lg-fill >}} Wrap-up

<!-- Wird noch mit Motivationsfolie abgeglichen -->

## Herausforderungen

- Neue Routinen: Abläufe müssen umgestellt werden, Begriffe müssen verinnerlicht werden - Anfangs kann das ganz schön einschüchternd wirken
- Fehlende Übung und Verständnis: Kolleg:innen und Studierende müssen Git wiederholt praktisch Anwenden, um die Funktionsweise von Git wirklich zu verstehen und sich sicher im Umgang damit zu fühlen
- Konfiguration: Bei fehlerhafter Konfiguration können unerwünschte Probleme auftreten und der Lernprozess beeinträchtigt werden
- Verwaltung des Zugangs und der Berechtigungen: Die Einrichtung von Konten und die Verwaltung von Zugriffsrechten für Studierende kann administrativen Aufwand verursachen

## Vorteile

- Zusammenarbeit: Git ermöglicht es mehreren Personen, gleichzeitig an einem Projekt zu arbeiten, wobei Änderungen effizient zusammengeführt werden können. Je nach Anwendungsfall können Branches oder Forks genutzt werden
- Versionskontrolle: Studierende oder Lehrende können jederzeit zu früheren Versionen von Dateien oder des gesamten Projekts zurückkehren
- Backup und Übergabe: Github bzw. GitLab dient als Online-Backup und erleichtert eine Übergabe von Daten und Dateien
- Lernfortschritt: Lehrkräfte können den Fortschritt der Studierenden anhand der Commit-Historie nachvollziehen und Feedback zu spezifischen Änderungen geben, außerdem sind Arbeitsprozesse durch die vollständige Historie transparent
- Praktische Fähigkeiten: Der Umgang mit Git und vergleichbaren Programmen wird in nahezu allen Berufsfelder immer wichtiger - darauf werden die Studierenden frühzeitig vorbereitet

## Fazit

<p><strong>Git bringt Ordnung, Transparenz und kollaborative Effizienz – ideal für Lehre, Projekte und Abschlussarbeiten.</strong></p>



# {{< bi wrench-adjustable-circle-fill >}} Praxis


## {{< bi code-square >}} Repositorium für eigenes Projekt erstellen
-   Überlegen Sie sich, für welche Lehrveranstaltung / welches Projekt sich Versionskontrolle mit Git eignen könnte
-   Erstellen Sie sich für dieses Projekt ein neues Repositorium in [GitHub](https://github.com/)
-   Erstellen Sie eine aussagekräftige README Datei
-   Klonen Sie das Repositorium in einen lokalen Ordner Ihrer Wahl
-   Fügen Sie in das Repositorium Lehrmaterialien, etc. ein. Probieren Sie dabei grundlegende Funktionen von Git aus, die Sie heute kennen gelernt haben (z.B. Commit, Push, Pull, etc.)
-   Überlegen Sie sich, welche weiteren Funktionen von Git (z.B. Branching, Forking) für Ihren Anwendungsfall sinnvoll sind, welche vielleicht aber eher hinderlich sind.

{{< countdown "20:00" >}}

## {{< bi code-square >}} Vorhandene Projekte entdecken

-   Sollte Ihnen spontan kein geeignetes Projekt einfallen, zeigen wir Ihnen gern eigene Lehrveranstaltungen / Projekte, die wir mittels Git organisiert und umgesetzt haben.
-   Wir berichten gern aus unserer Praxis: 
      - Warum war die Umsetzung mittels Git für uns sinnvoll? 
      - Welche Funktionen von Git haben wir in dem Projekt besonders geschätzt?

{{< countdown "20:00" >}}

# Vielen Dank! {visibility="uncounted"}


## Quellen {visibility="uncounted"}
::: {#refs}
:::





